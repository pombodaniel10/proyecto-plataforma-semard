<h2 class="page-header text-center">Registrar usuario</h2>
<div class="col-md-4 col-md-offset-4 remove-float center-block form-horizontal top-space">
  <div class="login-panel panel panel-primary">
    <div class="panel-body">
      <form (ngSubmit)="onRegisterSubmit()" [formGroup]="form">
        <fieldset>
          <div class="form-group row" [ngClass]="{'has-error':form.controls['name'].invalid && (form.controls['name'].dirty || form.controls['name'].touched)}">
            <label for="name">Nombre completo</label>
            <input class="form-control" name="name" placeholder="Ingrese el nombre completo" formControlName="name">
            <div *ngIf="form.controls['name'].invalid && (form.controls['name'].dirty || form.controls['name'].touched)">
              <div *ngIf="form.controls['name'].errors?.required">
                El nombre es requerido.
              </div>
              <div *ngIf="form.controls['name'].errors?.minlength">
                El nombre debe tener minimo 3 caracteres.
              </div>
            </div>
          </div>
          <div class="form-group" [ngClass]="{'has-error':form.controls['username'].invalid && (form.controls['username'].dirty || form.controls['username'].touched)}">
            <label for="username">Nombre de usuario</label>
            <input name="username" type="text" class="form-control" placeholder="Ingrese el nombre de usuario" formControlName="username">
            <div *ngIf="form.controls['username'].invalid && (form.controls['username'].dirty || form.controls['username'].touched)">
              <div *ngIf="form.controls['username'].errors?.required">
                El nombre de usuario es requerido.
              </div>
              <div *ngIf="form.controls['username'].errors?.minlength">
                El nombre de usuario  debe tener minimo 5 caracteres.
              </div>
            </div>
          </div>
          <div class="form-group" [ngClass]="{'has-error':form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched)}">
            <label for="email">Email</label>
            <input class="form-control"  name="email" type="text" placeholder="Ingrese el email" formControlName="email">
            <div *ngIf="form.controls['email'].invalid && (form.controls['email'].dirty || form.controls['email'].touched)">
              <div *ngIf="form.controls['email'].errors?.required">
                El correo es requerido.
              </div>
            </div>
          </div>
          <div class="form-group" [ngClass]="{'has-error':form.controls['password'].invalid && (form.controls['password'].dirty || form.controls['password'].touched)}">
            <label for="password">Contraseña</label>
            <input class="form-control" name="password" type="password"  placeholder="Contraseña " formControlName="password">
            <div *ngIf="form.controls['password'].invalid && (form.controls['password'].dirty || form.controls['password'].touched)">
              <div *ngIf="form.controls['password'].errors?.required">
                La contraseña es requerida.
              </div>
              <div *ngIf="form.controls['password'].errors?.minlength">
                La contraseña debe contener minimo 8 caracteres.
              </div>
            </div>
          </div>
          <div class="form-group" [ngClass]="{'has-error':form.controls['password2'].invalid && (form.controls['password2'].dirty || form.controls['password2'].touched)}">
            <label for="password2">Repetir contraseña</label>
            <input class="form-control" name="password2" type="password"  placeholder="Repetir contraseña" formControlName="password2">
            <div *ngIf="form.controls['password2'].invalid && (form.controls['password2'].dirty || form.controls['password2'].touched)">
              <div *ngIf="form.controls['password2'].errors?.required">
                La contraseña es requerida.
              </div>
              <div *ngIf="form.controls['password2'].errors?.noIguales">
                Las contraseñas no coinciden.
              </div>
            </div>
          </div>
          <div class="form-group text-center">
            <label for="admin">Permisos de administrador</label>
            <input type="checkbox" name="isAdmin" formControlName="isAdmin"/>
          </div>
          <div class="top-space form-group text-center">
            <input [disabled]="!form.valid" class="btn btn-primary" type="submit" value="Agregar usuario"/>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
